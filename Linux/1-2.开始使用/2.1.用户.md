# 用户  
系统用户分为 **root 用户** 和 **普通用户**  
* **root 用户**：root不受权限的制约，可随意修改和删除文件  
root用户误删重要文件可能带来严重后果  
* **普通用户**：由root用户创建的用户，**用户信息存放在 /etc/passwd 文件中**

-----------

## /etc/passwd 文件  
在该文件中，每一行用户记录的各个数据段用 “:” 分隔，分别定义了用户的各方面属性  
如第一行通常是 root 用户信息:  
``` vim
root:x:0:0:root:/root:/bin/bash
```
分别表示为：**注册名:口令:用户标识号:组标识号:用户名:用户主目录:命令解释程序**  

1. **注册名**：用于区分不同的用户。在同一系统中注册名是惟一的  
2. **口令**：系统用口令来验证用户的合法性。**root 用户可以使用系统命令passwd来更改系统中所有用户的口令，普通用户也可以在登录系统后使用passwd命令来更改自己的口令。**  
  但是实际上该文件中使用x来代替，而真正的口令保存在 /etc/shadow 文件中(仅 root 用户有读权限)  
3. **用户标识号 UID**：用于区别不同的用户。同一 UID 可以有不同的注册名，但它们实际上是同一用户  
4. **组标识号 GID**：这是当前用户的缺省工作组标识，还在 /etc/group 文件中指明一个组所包含用户。  
5. **用户名**：包含用户的一些信息  
6. **用户主目录**：当用户登录后，他的Shell将把该目录作为用户的工作目录，通常是 /home 目录下的同用户名子目录  
7. **命令解释程序**：Shell是当用户登录系统时运行的程序名称，通常是一个Shell程序的全路径名  

值得注意的是，系统管理员没必要直接修改该文件，而应该通过一些管理命令来间接修改

---------

## /etc/shadow 文件
与 passwd 文件类似，文件内容如下：  
```vim
root:!:17751:0:99999:7:::
```
其意义为：**用户名:加密后的口令:最后一次修改时间:最小修改时间间隔:口令有效期:口令需变更前的提醒天数:口令遗留期:帐号有效期:保留字段**  
简单解释下：
2. 加密后的口令，这意味着没有办法直接获得任何用户的口令。若是 “*” 或 “!”，则意味着没有密码  
5. 口令有效期缺省值为 99999，即为永久有效  
7. 口令遗留期指即使在口令有效期到了也没有修改口令，那么系统最多会保留该口令的天数  
8. 帐号有效期通常在收费系统中使用  

-----------

## 用户管理  
### 创建用户  
``` Shell
useradd [选项] 用户名
```
常用的选项有：
* **-g 用户组**: 指定所属组  
* **-G 用户组,用户组**：指定附加组  
* **-d 目录路径**：指定用户主目录，可以搭配 **-m** 使用，不存在时创建该目录  
* **-u 用户号**：指定 UID，搭配 **-o** 时可以重复  
* **-s Shell 文件**：指定登录时的 Shell 文件  

### 删除用户  
``` Shell
userdel [选项] 用户名
```
常用的选项有：
* **-r**：把用户对应的主目录一起删除  

### 用户信息修改  
``` Shell
usermod [选项] 用户名
```
使用方法基本与 `useradd` 一致  

### 切换用户  
``` Shell
su 用户
```

------------

## 用户口令  
刚建立的用户是没有口令，可以使用以下命令修改：
``` Shell
passwd [选项] 用户名
```
root 用户可以修改任意用户，普通用户只能修改自己的  

常用选项：  
* **-l**：lock，锁定账户
* **-u**：unlock，解锁账户  
* **-d**：delete，删除口令  
* **-f**：force，强迫用户下次登录时修改口令

--------

## 组  
组的相关命令包括以下内容：  
``` Shell
groupadd [选项] 组
groupdel [选项] 组
groupmod [选项] 组
```
用法参考用户的相关命令