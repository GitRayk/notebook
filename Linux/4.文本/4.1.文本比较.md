# 文本命令  

有关[文本显示命令](../1-2.开始使用/2.4.文本显示命令.md)和[文本处理命令](../1-2.开始使用/2.5.文本处理命令.md)的内容，在 /Linux/开始使用 的2.4、2.5节介绍过  
本节再补充几个有关文本处理的命令  

-----------------

## cmp 命令
``` Shell
cmp [选项] 文件1 文件2
```
**功能**：该命令逐字节比较两个文件是否相同  
如果相同，不会有任何输出提示  
如果不同，会表示出第一个不同的地方  

windows 下也有同类型的命令 `comp`  

常用选项：  
* **-l**：标识出所有的不同之处，输出的每一行分别代表 “字节数 文件1处 ASCII 码 文件2处 ASCII 码”  

### md5sum/sha1sum
但是对于过于大的文件，很难通过 cmp 进行逐字节比较  
位于网络中两个不同位置的文件，也需要放在一起才可以比较  

=> **使用 `md5sum` 构造文件的 16 字节哈希值，然后比较哈希值即可判断文件是否相同**  
``` Shell
md5sum 文件列表
```
类似功能还有 `sha1sum` ，使用方法同上，不过生成的是 20 字节哈希值  

-------------

## diff 命令
``` Shell
diff [选项] 文件1 文件2
diff -u 文件1 文件2 # 以 uniform 格式输出不同
```
**功能**：比较两个文件的版本差异  

**该命令默认的输出格式为 normal**，它会列出一个如何将文件1转化为文件2的指令  
指令中有a（Add），c（Change）和d（Delete），如：  
``` Shell
$ cat 2.txt 
123123
$ cat 4.txt 
123123
12

$ diff 2.txt 4.txt
1a2
> 12
```
该例中，“1a2” 表示要在前一个文件中的第1行中 append内容，才能与后一个文件中的第2行一致  
紧接着用 “>” 表示要新增的内容， “<” 表示要删除的内容  

**当指定 -u 参数时，将以 uniform 的格式输出，类似于 git diff 采用的格式**  
不仅如此，“-u” 后面还可以跟着一个数字，表示在打印不同之处之前，要显示的相同内容的行数，默认为 3  