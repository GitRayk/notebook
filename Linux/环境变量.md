# Linux 中的环境变量  

## 为程序设置一次性环境变量
在运行程序时，直接在启动程序之前(同一行)设定环境变量：  
``` Shell
SERVER=1.2.3.4 ./main   # 设定环境变量时不要加空格
```

在 c 语言中可以通过 `getenv()` 函数获取指定的环境变量  

----------------------------
## 查看与设定临时的环境变量  
要查看系统的中的环境变量，可以直接使用 `env` 或 `export` 命令(不加参数)  

同时 `export` 还可以**为当前的 shell 设定临时的环境变量，这样设定的环境变量仅对当前登录有效**  

`export` 的语法为 
``` Shell
export [-fnp][变量名称]=[变量设置值]
```  
其参数为：  
* **-f** 　代表[变量名称]中为函数名称。  
* **-n** 　删除指定的变量。变量实际上并未删除，只是不会输出到后续指令的执行环境中。  
* **-p** 　列出所有的shell赋予程序的环境变量。  

**变量值有多个时，通过 “:” 分隔** (windows 下通过 “;” 分隔)   

-------------

## 设定永久的用户环境变量  

### 修改 $HOME/.bashrc 文件  

在 ubuntu 系统下，用户目录中会存在一个 **.bashrc** 文件  

**每次通过 bash 登录进系统时，都会执行该文件中的内容**，所以我们可以通过修改该文件来使每次登录都可以配置好环境变量(也可以任意添加要在启动时执行的命令，如 alias)  
关于该文件，请见：[Shell 概述](7.Shell/7.2.Bash%E7%9A%84%E5%90%AF%E5%8A%A8.md)

**即在 .bashrc 中添加新行 `export NAME=VALUE`**  

修改完成后，就可以在下次登录时自动执行该脚本从而配置信息  

也可以使用 `source %HOME/.bashrc` 来立即执行文件中的命令  
**source** 是bash shell的内置命令。点命令，就是个点符号，因此该命令与 **.** 等价  
source 命令用法：`source FileName 或 . FileName`  
**作用：在当前bash环境下读取并执行FileName中的命令。**  

--------------

## 设定永久的全局环境变量  
### 修改 /etc/bash.bashrc 文件
  
操作方法同上  

-------------

## 常用的环境变量
**PATH**：可执行程序的查找路径  
**LD_LIBRARY_PATH**：动态库的查找路径(不设置该变量时，动态库从 /usr/lib 中找)  
**HOME**：表示当前用户的登录目录  
**PWD**：表示当前工作目录  
**OLDPWD**：表示上一次的目录  
**LANG**：用来设置当前系统语言环境  