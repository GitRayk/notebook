# 系统命令和用户程序获取信息的方式  
从操作系统看，Linux 系统命令和用户程序都属于**用户态程序**，运行时需要指定各种参数  

**硬编码**：如 c 语言中的 `#define IP '127.0.0.1'` 就属于硬编码，在编程时就确定，而运行时是不可以修改的  
硬编码不太灵活  

运行时获取信息的常见方式主要有四种  

--------------
## 一.配置文件
一般较复杂的程序会通过配置文件保存配置信息  

分为**系统级偏好设置**和**用户级偏好设置**  
如 bash 程序的 `/etc/profile` 和 `~/.bash_profile`  

**特点**：  
* 使用灵活（用户不同时，根据读取的配置文件的不同而表现不同）  
* 不便于变更信息，一般存入不需要经常改动的信息  

---------------
## 二.环境变量  
使用 `env` 命令可以打印出当前的环境变量  

[环境变量](环境变量.md)  

程序通过获取环境变量来感知环境的不同，而控制不同的行为  

如，c 语言用 `getenv()` 函数来获取环境变量  

**特点**：  
* 比读取配置文件需要的系统开支要小  

-----------------
## 三.命令行参数
程序启动时，通过命令行参数传递给程序  
如 c 语言通过 main 函数的参数来取得启动程序时命令行参数的数量和字符串值  

**特点**：  
* 对后续命令无影响  

命令行参数共有三种风格：  

### 类似于dd命令的风格
即**命令行参数采用 `param=value` 的风格**  

dd 命令将硬盘映像拷贝到硬盘：  
``` Shell
dd if=sysdisk.img of=/dev/sdb
```

### 类似于find和gcc的风格
即**以减号打头的一个由多个字符构成的单词用作选项**

### 类似ls和grep风格
该风格也是现今较为流行的风格  

即**某些选项同时有长短两种格式，长选项常以两个减号打头；短选项常以一个减号打头，短选项的多个参数可以放在一起**  

**可以通过独立的命令行参数 “--” 来标识选项的结束，即之后出现的参数都不作为选项**  

如：  
``` Shell
ls --classify --all /home/ubuntu
ls -Fashw80 /home/ubuntu
ls -F -a -s -h -w 80 /home/ubuntu
```

选项的处理统一由 c 语言标准动态链接库 libc.so 中的库函数 `getopt_long()` 完成  

-----------------
## 四.交互式键盘输入
程序启动之后通过计算机和用户的人机交互获取信息  

如标准输入、标准输出函数  

**实际在 Linux 环境中极少使用，因为不利于把程序变成批处理脚本**  