# 结构化需求分析  
## 结构化分析发展简史  
**Structured Analysis (SA)**:   
面向数据流进行需求分析。适合于数据处理类型软件的需求分析  

分析建模开始于20世纪60-70年代，但结构化分析方法的第一次出现是作为另一个重要课题：“结构化设计”的附属品  

其目的是需要一种图形符号体系来表示数据和对数据进行变换的处理，这些处理最终能被映射到软件体系结构的设计中  

--------------
## 结构化分析模型结构  
![结构化分析模型](img/SAModel.png)  

### 三大模型和一个核心  
**数据模型**：用实体-关系图表示，用来描述系统要处理的数据对象、对象属性以及对象之间的关系  
**功能模型**：用数据流图表示，用来描述数据在系统中如何流动，以及系统对数据流的变换功能  
**行为模型**：用状态迁移图表示，描述了外部事件发生时，系统如何采取动作的行为  
**数据词典核心**：以文字词条表示，记录了数据流图中所有被命名的图形元素，使得每一个图形元素的名字都有一个确切的解释  

### 如何创建  
#### 数据模型  
为了把用户的数据要求清晰明确地表达出来，软件开发人员通常建立一个**概念性的数据模型（也称为信息模型）**  

概念性模型按照用户的观点来对数据和信息建模。它描述了从用户角度看到的数据，反映了用户的现实环境，但与在软件系统中的实现方法无关  
（与面向对象分析中的领域模型十分类似）  

**最常用的表示概念性数据模型的方法，是实体/关系方法（Entity Relationship Approach）**  
其概念与数据库中学的完全一致  

即**ER图描述现实世界中的实体，而不涉及这些实体在系统中的实现方法**    

用这种方法表示的概念性数据模型又称为**ER模型**  

* **数据对象**：可以是任意的一个外部实体，拥有属性和关系，但没有方法，可以用数据库中的表格样式表示  
* **属性**：属性定义了数据对象的性质  
* **关系**：数据对象之间的相互连接的方式称为关系  
* **基数（Cardinality）**：数据模型必须能够表示在一个给定的关系中实体的对应情况，即对象—关系对的基数  

##### ER图
ER图的主要目的是以图形的形式表示实体以及实体之间的关系  

**带标记（或名称）的矩形表示实体**  
**连接实体的线表示关系**  

![ER图](./img/ERDiagram.png)  

##### 规范化
数据模型还要规范化，**目的是消除数据冗余**  

**关系规范化的程度通常按属性间的依赖程度来区分，并以范式（Normal Form，NF）来表达**。范式是符合某一种级别的关系模式的集合  

目前关系数据库有六种范式。一般说来，数据库只需满足第三范式（3NF）就可以达到设计的要求了  

#### 功能模型   
**功能模型需要体现系统的数据流的加工、变换过程**  

数据流图是描述信息流和数据从输入移动到输出时被系统的功能变换的图形化技术  

**DFD也被称为数据流图（Data Flow Diagram）或泡泡图（Bubble Chart）**  

![数据流图](./img/DFDDiagram.png)  

**外部实体用正方形表示**，主要是系统的使用者或参与者  
**加工用圆形表示**，是系统中对数据流的加工等操作，名字通常是动词短语短语  
**数据存储用平行线表示**，它主要用于保存数据，可能是一个数据库或任何形式的文件  
**数据流用箭头表示**，它描述系统中需要被加工的数据和流向，通常还需要给出数据流名称  

如果一个加工有多个输入数据流或输出数据流，我们还可以给出更细致的数据流关系  

![数据流关系](./img/DataStreamRelation.png)  

##### 分层数据流图
对复杂的问题，一次画出数据流图不现实，可以以分层的数据流图反映这种结构关系  

在多层数据流图中，可以把顶层流图、底层流图和中间层流图区分开来  

顶层流图仅包含一个加工，它代表被开发系统  

底层流图是指其加工不须再做分解的数据流图，其加工称为“原子加工”  

中间层流图则表示对其上层父图的细化  

![多层数据流图1](./img/MultiDataStreamDiagram.png)  
![多层数据流图2](./img/MultiDataStreamDiagram2.png)  